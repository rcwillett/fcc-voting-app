<div class="row">
    <div class="col-12">
        <h1 class="mt-3 mb-0">{{vm.poll.name}}</h1>
        <h3 class="h6 mb-3">Created By: {{vm.poll.creator.userName}}</h3>
    </div>
</div>
<div class="row">
    <div class="col-12 col-md-6">
        <p>{{vm.poll.description}}</p>
        <form class="form-group row" ng-submit="vm.submitSelection()">
            <div class="col-12 col-md-8 mt-2">
                <select class="form-control w-100" ng-options="poll as poll.optionText for poll in vm.poll.options track by poll.optionId" ng-model="vm.selectedOption">
        </select>
            </div>
            <div class="col-12 col-md-4 mt-2">
                <input class="btn btn-primary w-100" value="Submit Selection" type="submit" />
            </div>
        </form>
        <div ng-show="vm.newOptionFormVisible && $root.loggedIn">
            <form class="form-group row" name="newOptionForm" ng-submit="vm.submitNewOption();" novalidate="true">
                <div class="col-12 col-md-8 mt-2">
                    <input name="newPollOption" class="form-control w-100" ng-model="vm.newPollOption" ng-pattern="vm.inputValidationPattern" required="required" />
                </div>
                <div class="col-12 col-md-4 mt-2">
                    <input class="btn btn-primary w-100" type="submit" value="Add Option" />
                </div>
                <div class="col-12 errorMsg mt-2 text-danger" ng-show="newOptionForm.$submitted && (newOptionForm.newPollOption.$error.required || newOptionForm.newPollOption.$error.pattern)">
                    Please enter an alphanumeric input
                </div>
                <div class="successMessage mt-2" ng-show="vm.successMessageVisible">
                    {{vm.successMessage}}
                </div>
            </form>

        </div>
        <div class="row">
            <div class="col-12 mt-2 mb-3" ng-show="vm.addNewOptionVisible && $root.loggedIn">
                <button class="btn btn-primary w-100" ng-click="vm.addNewOption();">Add Option</button>
            </div>
        </div>
    </div>
    <div class="col-12 col-md-6">
        <h3>Current Results:</h3>
        <canvas id="pie-chart-results"></canvas>
    </div>
</div>
<div class="row mt-3" ng-show="$root.loggedIn">
    <div class="col-12">
        <h3>Share on:</h3>
    </div>
    <div class="col-12">
        <a class="no-underline" target="_blank" href="{{vm.facebookShareLink}}"><span class="h4"><span class="soc-icon-facebook2 mr-2"></span>Facebook</span></a>
    </div>
    <div class="col-12">
        <a class="no-underline" target="_blank" href="{{vm.twitterShareLink}}"><span class="h4"><span class="soc-icon-twitter mr-2"></span>Twitter</span></a>
    </div>
</div>